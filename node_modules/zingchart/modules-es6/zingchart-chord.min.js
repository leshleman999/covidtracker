/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.8_ES6
*/
zingchart.setModule("chord"),function(){var t;ZC.AE1=((t=function(){this.AFE="palette",this.C2="#6a921f",this.BP=[],this.T6=.8,this.AFC=.1,this.AFB=0,this.AFA=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JL=1,this.KF=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t}}).getDefaults=function(_){var l={};return ZC._cp_(t.B8,l),t.O7[_]&&ZC._cp_(t.O7[_],l),l},t.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},t.O7={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},t);var _={},l={},e=null,a=null,n=-1,r=-1,o=function(t){var e=zingchart.getLoader(t.id);if(e){var a=zingchart.getGraph(e,t.graphid);if(a&&"chord"===a.o.type)if(_["chord-"+t.id+"-"+t.graphidx]){l["chord-"+t.id+"-"+t.graphidx]=l["chord-"+t.id+"-"+t.graphidx]||[];var n,r=l["chord-"+t.id+"-"+t.graphidx];-1!==(n=ZC.AV(r,t.plotindex))?r.splice(n,1):r.push(t.plotindex),e.JZ()}}};zingchart.bind(null,"legend_item_click",o),zingchart.bind(null,"legend_marker_click",o),zingchart.bind(null,"shape_mouseover",function(t){var l=zingchart.getLoader(t.id);if(l){var e=zingchart.getGraph(l,t.graphid);if(e&&"chord"===e.o.type){var a=_["chord-"+t.id+"-"+t.graphidx];if(a&&!a.KF&&"segment_"===t.shapeid.substring(0,8)){for(var o=ZC._i_(t.shapeid.replace("segment_","")),C=[],i=0;i<n;i++)for(var Z=0;Z<r;Z++)"svg"===l.AA?ZC.A5("#"+e.K+"-shape-chord_"+i+"_"+Z+"-path").attr("fill-opacity",o===i||o===Z?1:.1):C.push({id:"chord_"+i+"_"+Z,alpha:o===i||o===Z?1:.1});"svg"!==l.AA&&zingchart.exec(t.id,"updateobject",{type:"shape",graphid:t.graphid,dynamic:!0,data:C})}}}}),zingchart.bind(null,"shape_mouseout",function(t){var l=zingchart.getLoader(t.id);if(l){var e=zingchart.getGraph(l,t.graphid);if(e&&"chord"===e.o.type){var a=_["chord-"+t.id+"-"+t.graphidx];if(a&&!a.KF&&"segment_"===t.shapeid.substring(0,8)){for(var o=[],C=0;C<n;C++)for(var i=0;i<r;i++)"svg"===l.AA?ZC.A5("#"+e.K+"-shape-chord_"+C+"_"+i+"-path").attr("fill-opacity",.75):o.push({id:"chord_"+C+"_"+i,alpha:.75});"svg"!==l.AA&&zingchart.exec(t.id,"updateobject",{type:"shape",graphid:t.graphid,dynamic:!0,data:o})}}}}),zingchart.bind(null,"dataparse",function(t,o){var C,i,Z,p,h,g,c=zingchart.getLoader(t.id);zingchart.initThemes(c);for(var u=ZC.AE1.getDefaults(t.theme),d=0,s=o[ZC._[16]].length;d<s;d++)if("chord"===o[ZC._[16]][d].type){var f=o[ZC._[16]][d].type,A=o[ZC._[16]][d],v={};A.options&&(v=A.options[f]||A.options),ZC._todash_(v),null!==ZC._n_(e)&&(A.shapes=[],ZC._cpa_(e,A.shapes)),null!==ZC._n_(a)&&(A[ZC._[10]]=[],ZC._cpa_(a,A[ZC._[10]]));var x=new ZC.AE1;_["chord-"+t.id+"-"+d]=x,null!==ZC._n_(C=v["color-type"])&&(x.AFE=C),null!==ZC._n_(C=v.color)&&(x.C2=ZC.AQ.GE(C)),null!==ZC._n_(C=v.palette)?x.BP=C:u.palette.length>0&&(x.BP=u.palette),null!==ZC._n_(C=v.radius)&&(x.T6=ZC._f_(ZC.IQ(C))),null!==ZC._n_(C=v["band-width"])&&(x.AFC=ZC._f_(ZC.IQ(C))),null!==ZC._n_(C=v["band-space"])&&(x.AFB=ZC._f_(ZC.IQ(C))),null!==ZC._n_(C=v["angle-padding"])&&(x.AFA=ZC._i_(C)),null!==ZC._n_(C=v["group-padding"])&&(x.iGroupPadding=ZC._i_(C)),null!==ZC._n_(C=v["group-offset"])&&(x.iGroupOffset=ZC._i_(C)),null!==ZC._n_(C=v["size-factor"])&&(x.JL=ZC._f_(C)),null!==ZC._n_(C=v.flat)&&(x.KF=ZC._b_(C));var b=A[ZC._[11]];for(i=0;i<b.length;i++)b[i]["sort-index"]=i;var y=[];b.sort(function(t,_){return null!==ZC._n_(t.group)&&-1===ZC.AV(y,ZC._i_(t.group))&&y.push(ZC._i_(t.group)),null!==ZC._n_(_.group)&&-1===ZC.AV(y,ZC._i_(_.group))&&y.push(ZC._i_(_.group)),null!==ZC._n_(t.group)&&null!==ZC._n_(_.group)&&ZC._i_(t.group)-ZC._i_(_.group)!=0?ZC._i_(t.group)-ZC._i_(_.group):t["sort-index"]-_["sort-index"]});var F=ZC.BQ(y.length,1),B=l["chord-"+t.id+"-"+d]||[],m=B.length,E=0;for(i=0,Z=b.length;i<Z;i++)if(0===m||m>0&&-1===ZC.AV(B,i))for(h=0,g=(p=b[i][ZC._[5]]||[]).length;h<g;h++)(0===m||m>0&&-1===ZC.AV(B,h))&&(E+=ZC._f_(p[h]));var z=0;for(i=0,Z=b.length;i<Z;i++)(0===m||m>0&&-1===ZC.AV(B,i))&&z++;if(-1===n&&(n=b.length),-1===r)for(i=0,Z=b.length;i<Z;i++)p=b[i][ZC._[5]]||[],r=ZC.BQ(r,p.length);A.shapes||(A.shapes=[]),e||(e=[],ZC._cpa_(A.shapes,e));var M=A.shapes;A[ZC._[10]]||(A[ZC._[10]]=[]),a||(a=[],ZC._cpa_(A[ZC._[10]],a));var k,V,D,w,G,N,L,R,P,I,Q=A[ZC._[10]];A.legend&&(A.legend[ZC._[54]]="none");var O,K=360-x.AFA*z-x.iGroupPadding*(F>1?F:0),T=[],X=[],J=[],S=0,U=0,j=null,H=!1;for(i=0,Z=b.length;i<Z;i++){ZC._todash_(b[i]),O=1,null!==ZC._n_(b[i].group)&&(O=ZC._i_(b[i].group)),H=!1,U=0,null===j&&null!==ZC._n_(b[i].group)?j=ZC._i_(b[i].group):ZC._i_(b[i].group)!==j&&(j=ZC._i_(b[i].group),H=!0),H&&i>0&&(U=x.iGroupPadding);var q=x.C2;if("palette"===x.AFE)if(x.BP.length>0)q=x.BP[i%x.BP.length];else q=zingchart.getPalette(c,i,"bar")[1];else"random"===x.AFE&&(q=x.AGH());if(0===m||m>0&&-1===ZC.AV(B,i)){null===ZC._n_(b[i][ZC._[0]])&&(b[i][ZC._[0]]=q),b[i].visible=!0;var W={},Y=0;for(h=0,g=(p=b[i][ZC._[5]]||[]).length;h<g;h++)(0===m||m>0&&-1===ZC.AV(B,h))&&(Y+=ZC._f_(p[h]));for(var $ in W[ZC._[1]]=S+U,W[ZC._[2]]=W[ZC._[1]]+K*Y/E,W.group=O,W.total=Y,W[ZC._[5]]=b[i][ZC._[5]],b[i])"data-"===$.substr(0,5)&&(W[$]=b[i][$]);S=W[ZC._[2]]+x.AFA,T.push(W);var tt=zingchart.getInstance(c,"style");tt.append(b[i]),tt.parse(),X[i]=tt,A.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":tt.A0,"background-color-2":tt.AE}},b[i]),L={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.tooltip)&&ZC._cp_(C,L);var _t=b[i].text||"";L.text=_t;var lt={alpha:u.alpha,"border-width":0,"background-color":tt.A0+" "+tt.AE,tooltip:L};null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.band)&&ZC._cp_(C,lt),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.band)&&ZC._cp_(C,lt),ZC._cp_({type:"pie",id:"segment_"+i,"angle-start":W[ZC._[1]],"angle-end":W[ZC._[2]]},lt),lt.tooltip.text=lt.tooltip.text.replace(/%text/gi,_t),J.push(lt)}else b[i].visible=!1,T.push(null),J.push(null)}var et=0;if(F>1){var at=Number.MAX_VALUE,nt=-Number.MAX_VALUE;for(i=0,Z=T.length;i<Z;i++)1===T[i].group&&(at=Math.min(at,T[i][ZC._[1]]),nt=Math.max(nt,T[i][ZC._[2]]));et=(nt-at)/2}for(et+=x.iGroupOffset,i=0,Z=T.length;i<Z;i++)T[i]&&J[i]&&(T[i][ZC._[1]]-=et,T[i][ZC._[2]]-=et,J[i][ZC._[1]]-=et,J[i][ZC._[2]]-=et,M.push(J[i]));var rt,ot=Number.MAX_VALUE;if(0!==E){for(i=0,Z=T.length;i<Z;i++)if(0===m||m>0&&-1===ZC.AV(B,i)){var Ct=Math.pow(10,Math.floor(Math.log(T[i].total)/Math.LN10));Ct>0&&(ot=ZC.CX(ot,Ct))}for(;!((rt=K*ot/E)<15);)ot/=2}else ot=1;var it,Zt,pt,ht,gt,ct,ut,dt=Math.min(0,Math.ceil(Math.log(ot)/Math.LN10)+1),st=0,ft=0;for(i=0,Z=T.length;i<Z;i++)if(0===m||m>0&&-1===ZC.AV(B,i))for(it=0,Zt=ZC.BQ(1,Math.floor(10/rt)),k=T[i][ZC._[1]];k<T[i][ZC._[2]];k+=rt)it%Zt==0&&(gt=(pt=it*ot).toFixed(dt),pt>=1e3&&(gt=pt/1e3+"k"),pt>=1e6&&(gt=pt/1e6+"M"),ht={},ZC._cp_(u.item,ht),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.item)&&ZC._cp_(C,ht),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.item)&&ZC._cp_(C,ht),ht.text=gt,ZC._todash_(ht),(ct=zingchart.getInstance(c,"textbox")).append(ht),ct.parse(),ft=Math.max(ft,ct.DS),st=Math.max(st,ct.I)),it++;var At,vt=0,xt=0,bt=0;for(i=0;i<b.length;i++)gt=b[i].text||"",At={},ZC._cp_(u.label,At),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.label)&&ZC._cp_(C,At),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.label)&&ZC._cp_(C,At),At.text=gt,ZC._todash_(At),(ut=zingchart.getInstance(c,"textbox")).append(At),ut.parse(),bt=Math.max(bt,ut.DS),vt=Math.max(vt,ut.I),xt=Math.max(xt,ut.F);if(A.plotarea)for(var yt=["margin",ZC._[57],ZC._[58],ZC._[59],ZC._[60]],Ft=0;Ft<yt.length;Ft++)"dynamic"===A.plotarea[yt[Ft]]&&(0===ut.A9?A.plotarea[yt[Ft]]=st+ft+xt-20:A.plotarea[yt[Ft]]=st+ft+vt-20);var Bt,mt,Et=zingchart.getGraphInfo(c,o,d),zt=Et.plotarea.x+Et.plotarea.width/2,Mt=Et.plotarea.y+Et.plotarea.height/2,kt=Et.graph.x+zt,Vt=Et.graph.y+Mt;for(Bt=x.T6>1?ZC._i_(x.T6):ZC._i_(x.T6*ZC.CX(Et.plotarea.width/2,Et.plotarea.height/2)),Bt*=x.JL,mt=x.AFC>1?Bt-ZC._i_(x.AFC):ZC._i_((1-x.AFC)*Bt),x.AFB<1&&(x.AFB=ZC._i_(x.AFB*Bt)),i=0,Z=M.length;i<Z;i++)M[i].id&&0===M[i].id.indexOf("segment_")&&(M[i].x=zt,M[i].y=Mt,M[i][ZC._[21]]=Bt,M[i][ZC._[8]]=mt);for(i=0,Z=T.length;i<Z;i++)if(0===m||m>0&&-1===ZC.AV(B,i)){it=0;var Dt=[],wt={};ZC._cp_(u.tick,wt),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.tick)&&ZC._cp_(C,wt),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.tick)&&ZC._cp_(C,wt);var Gt=wt[ZC._[21]]||5;for(Zt=ZC.BQ(1,Math.floor(10/rt)),N=30,k=T[i][ZC._[1]];k<T[i][ZC._[2]];k+=rt){var Nt=ZC.AR.BN(kt,Vt,Bt,k+.1),Lt=ZC.AR.BN(kt,Vt,Bt+Gt,k+.1);Dt.push(Nt,Lt,null),it%Zt==0&&(gt=(pt=it*ot).toFixed(dt),pt>=1e3&&(gt=pt/1e3+"k"),pt>=1e6&&(gt=pt/1e6+"M"),V=k,D="left",k>90&&k<270&&(V=k-180,D="right"),ht={},ZC._cp_(u.item,ht),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.item)&&ZC._cp_(C,ht),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.item)&&ZC._cp_(C,ht),N=ht[ZC._[19]]||st,G=ZC._i_(ht["offset-r"]||"0"),w=ZC.AR.BN(zt,Mt,Bt+Gt+G+N/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:N,angle:V,"text-align":D,text:gt},ht),(typeof ht.visible===ZC._[31]||ZC._b_(ht.visible))&&Q.push(ht)),it++}ZC._cp_({type:"line",id:"ticks"+i,points:Dt},wt),(typeof wt.visible===ZC._[31]||ZC._b_(wt.visible))&&M.push(wt),V=k=(T[i][ZC._[1]]+T[i][ZC._[2]])/2,k<0&&(k+=360),k%=360,D="center",0===ut.A9?k>=0&&k<=180?V-=90:V+=90:k>=0&&k<=90||k>=270&&k<=360?V-=90:V+=90;var Rt={};ZC._cp_(u[ZC._[17]],Rt),null!==ZC._n_(A.plot)&&null!==ZC._n_(C=A.plot[ZC._[17]])&&ZC._cp_(C,Rt),null!==ZC._n_(C=b[i][ZC._[17]])&&ZC._cp_(C,Rt);var Pt=ZC.AR.BN(kt,Vt,(Bt+mt)/2,(T[i][ZC._[1]]+T[i][ZC._[2]])/2),It=V;null===ZC._n_(Rt.angle)&&null===ZC._n_(Rt["font-angle"])||(Rt["auto-align"]?null!==ZC._n_(Rt.angle)?It+=ZC._f_(Rt.angle):It+=ZC._f_(Rt["font-angle"]):It=null!==ZC._n_(Rt.angle)?ZC._f_(Rt.angle):ZC._f_(Rt["font-angle"])),ZC._cp_({id:"vbox_"+i,anchor:"c",angle:It,x:Pt[0],y:Pt[1],flat:!0},Rt),Rt.text=Rt.text||"%node-value",Rt.text=Rt.text.replace(/%plot-text/gi,b[i].text||"").replace(/%node-value/gi,T[i].total),(typeof Rt.visible===ZC._[31]||ZC._b_(Rt.visible))&&Q.push(Rt),At={},ZC._cp_(u.label,At),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.label)&&ZC._cp_(C,At),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.label)&&ZC._cp_(C,At),P=At[ZC._[19]]||vt,I=At[ZC._[20]]||xt,R=ZC._i_(At["offset-r"]||"0"),null===ZC._n_(At.angle)&&null===ZC._n_(At["font-angle"])||(At["auto-align"]?(null!==ZC._n_(At.angle)?V+=ZC._f_(At.angle):V+=ZC._f_(At["font-angle"]),0!==ut.A9&&(D=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):V=null!==ZC._n_(At.angle)?ZC._f_(At.angle):ZC._f_(At["font-angle"])),w=0===ut.A9?ZC.AR.BN(zt,Mt,Bt+Gt+G+N+R+I,k):ZC.AR.BN(zt,Mt,Bt+Gt+G+N+R+P/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:P,angle:V,"font-angle":V,"text-align":D,text:b[i].text},At),(typeof At.visible===ZC._[31]||ZC._b_(At.visible))&&Q.push(At)}var Qt=mt-x.AFB;for(i=0,Z=T.length;i<Z;i++)if(0===m||m>0&&-1===ZC.AV(B,i))for(h=0,g=T.length;h<Z;h++)if(0===m||m>0&&-1===ZC.AV(B,h)){for(var Ot=0,Kt=0,Tt=0;Tt<h;Tt++)(0===m||m>0&&-1===ZC.AV(B,Tt))&&(typeof T[i][ZC._[5]][Tt]===ZC._[31]&&(T[i][ZC._[5]][Tt]=0),Ot+=T[i][ZC._[5]][Tt]);for(Tt=0;Tt<i;Tt++)(0===m||m>0&&-1===ZC.AV(B,Tt))&&(typeof T[h][ZC._[5]][Tt]===ZC._[31]&&(T[h][ZC._[5]][Tt]=0),Kt+=T[h][ZC._[5]][Tt]);var Xt=0;typeof T[i][ZC._[5]][h]!==ZC._[31]&&(Xt=T[i][ZC._[5]][h]);var Jt=0;typeof T[h][ZC._[5]][i]!==ZC._[31]&&(Jt=T[h][ZC._[5]][i]);var St=T[i][ZC._[1]]+(T[i][ZC._[2]]-T[i][ZC._[1]])*Ot/T[i].total,Ut=St+(T[i][ZC._[2]]-T[i][ZC._[1]])*Xt/T[i].total,jt=T[h][ZC._[1]]+(T[h][ZC._[2]]-T[h][ZC._[1]])*Kt/T[h].total,Ht=jt+(T[h][ZC._[2]]-T[h][ZC._[1]])*Jt/T[h].total;0===T[i].total&&(St=T[i][ZC._[1]],Ut=T[i][ZC._[2]]),0===T[h].total&&(jt=T[h][ZC._[1]],Ht=T[h][ZC._[2]]);var qt=ZC.AR.BN(kt,Vt,Qt,St),Wt=ZC.AR.BN(kt,Vt,Qt,jt);L={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.tooltip)&&ZC._cp_(C,L);var Yt=b[i].text||"",$t=b[h].text||"",t_={},__=[];if(i===h?(L.text=Yt+":"+T[i][ZC._[5]][h],__=[[qt[0],qt[1]],[kt,Vt,Qt,St,Ut,0],[kt,Vt,qt[0],qt[1]]]):i<=h&&(L.text=Yt+" -> "+$t+":"+T[i][ZC._[5]][h]+"<br>"+$t+" -> "+Yt+":"+T[h][ZC._[5]][i],__=[[qt[0],qt[1]],[kt,Vt,Qt,St,Ut,0],[kt,Vt,Wt[0],Wt[1]],[kt,Vt,Qt,jt,Ht,0],[kt,Vt,qt[0],qt[1]]]),__.length>0){var l_=Xt>=Jt?i:h;ZC._cp_({"background-color":X[l_].A0+" "+X[l_].AE,alpha:.75,"border-width":1,"border-color":u["border-color-2"],tooltip:L},t_),null!==ZC._n_(v.style)&&null!==ZC._n_(C=v.style.chord)&&ZC._cp_(C,t_),null!==ZC._n_(b[i].style)&&null!==ZC._n_(C=b[i].style.chord)&&ZC._cp_(C,t_),ZC._cp_({type:"poly",id:"chord_"+i+"_"+h,dynamic:!0,"fast-vector-path":!0,points:__},t_),i!==h&&null!==ZC._n_(C=t_.tooltip["text-chord"])&&(t_.tooltip.text=C),t_.tooltip.text=t_.tooltip.text.replace(/%text-destination/gi,$t).replace(/%value-destination/gi,T[h][ZC._[5]][i]).replace(/%text-source/gi,Yt).replace(/%value-source/gi,T[i][ZC._[5]][h]).replace(/%text/gi,Yt).replace(/%value/gi,T[i][ZC._[5]][h]);var e_=null;for(var $ in T[i])"data-"===$.substr(0,5)&&(e_=new RegExp("%"+$+"-destination","g"),t_.tooltip.text=t_.tooltip.text.replace(e_,T[i][$][h]||""));for(var $ in T[h])"data-"===$.substr(0,5)&&(e_=new RegExp("%"+$+"-source","g"),t_.tooltip.text=t_.tooltip.text.replace(e_,T[h][$][i]||""));e_=new RegExp("%data-([a-zA-Z0-9]+)-(source|destination)","g"),t_.tooltip.text=t_.tooltip.text.replace(e_,""),e_=new RegExp("%data-([a-zA-Z0-9]+)","g"),t_.tooltip.text=t_.tooltip.text.replace(e_,""),(typeof t_.visible===ZC._[31]||ZC._b_(t_.visible))&&(0===Xt&&0===Jt||M.push(t_))}}}return o})}();